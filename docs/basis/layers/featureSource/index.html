<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/guide/favicon-v2.png" />
    

    <title>
        
          FeatureSource Modules - Ginkgoch
        
    </title>

    <meta name="keywords" content="map library, cross platform, multiple platforms, mapping software, spatial analysis">
    <meta name="description" content="Ginkgoch provides an open source map library for crafting beautiful, cross platform mapping software for macOS, Linux and Windows from a single codebase.">

    <!-- Spectre.css framework -->
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css">

    <!-- theme css & js -->
    
<link rel="stylesheet" href="/guide/css/book.css">

    
<script src="/guide/js/book.js"></script>


    <!-- tocbot -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
    
    <!-- katex -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

    
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-124252185-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/zooming/2.1.1/zooming.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const zooming = new Zooming()
    zooming.listen('.book-content img')
})
</script>

<meta name="generator" content="Hexo 4.2.0"></head>

<body>

<div class="book-container">
  <div class="book-sidebar">
    <div class="book-brand">
  <a href="https://ginkgoch.com">
    <img src="/guide/favicon-v2.png">
    <span>GINKGOCH</span>
  </a>
</div>
    <div class="book-menu">
  <ul>
<li><a href="/guide">Welcome</a></li>
<li><a href="/guide/getting-started/index/">Getting Started</a><ul>
<li><a href="/guide/getting-started/setup/">Setup</a></li>
<li><a href="/guide/getting-started/commandLine/">Quick Start for CLI</a></li>
<li><a href="/guide/getting-started/desktop/">Quick Start for Desktop</a></li>
<li><a href="/guide/getting-started/service/">Quick Start for Service</a></li>
<li><a href="/guide/getting-started/web/">Quick Start for Web</a></li>
</ul>
</li>
<li><a href="/guide/basis/index/">Basis</a><ul>
<li><a href="/guide/basis/geometries/index/">Geometries</a><ul>
<li><a href="/guide/basis/geometries/geometry/">Geometry</a></li>
<li><a href="/guide/basis/geometries/feature/">Feature</a></li>
<li><a href="/guide/basis/geometries/shared/">Shared</a></li>
</ul>
</li>
<li><a href="/guide/basis/styles/index/">Styles</a><ul>
<li><a href="/guide/basis/styles/style/">Style</a></li>
<li><a href="/guide/basis/styles/advanced/">Advanced</a></li>
</ul>
</li>
<li><a href="/guide/basis/layers/index/">Layers</a><ul>
<li><a href="/guide/basis/layers/shared/">Shared</a></li>
<li><a href="/guide/basis/layers/featureSource/">FeatureSource</a></li>
<li><a href="/guide/basis/layers/layer/">Layer</a></li>
</ul>
</li>
<li><a href="/guide/basis/maps/index/">Map</a></li>
</ul>
</li>
<li><a href="/guide/miscellaneous/index/">Meta</a><ul>
<li><a href="/guide/miscellaneous/release/">Release Note</a></li>
<li><a href="/guide/miscellaneous/showcase/">Showcase</a></li>
<li><a href="/guide/miscellaneous/faq/">FAQ</a></li>
<li><a href="/guide/miscellaneous/contact/">Contact</a></li>
</ul>
</li>
</ul>

</div>


<script src="/guide/js/book-menu.js"></script>

  </div>

  <div class="off-canvas-content">
    <div class="columns">
      <div class="column col-10 col-lg-12">
        <div class="book-navbar">
          <!-- For Responsive Layout -->

<header class="navbar">
  <section class="navbar-section">
    <a onclick="open_sidebar()">
      <i class="icon icon-menu"></i>
    </a>
  </section>
</header>

        </div>
        <div class="book-content">
          <div class="book-post">
  <h1 id="FeatureSource-Modules"><a href="#FeatureSource-Modules" class="headerlink" title="FeatureSource Modules"></a>FeatureSource Modules</h1><h2 id="CSVFieldOptions-Interface"><a href="#CSVFieldOptions-Interface" class="headerlink" title="CSVFieldOptions Interface"></a>CSVFieldOptions Interface</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> interface CSVFieldOptions &#123;</span><br><span class="line">    fields?: string[];</span><br><span class="line">    hasFieldsRow?: boolean;</span><br><span class="line">    geomField?: string | &#123;</span><br><span class="line">        x: string;</span><br><span class="line">        y: string;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CSVFeatureSource-Class"><a href="#CSVFeatureSource-Class" class="headerlink" title="CSVFeatureSource Class"></a>CSVFeatureSource Class</h2><p>Extends <code>MemoryFeatureSource</code>. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare <span class="class"><span class="keyword">class</span> <span class="title">CSVFeatureSource</span> <span class="keyword">extends</span> <span class="title">MemoryFeatureSource</span> </span>&#123;</span><br><span class="line">    filePath?: string | <span class="literal">undefined</span>;</span><br><span class="line">    fieldOptions: CSVFieldOptions;</span><br><span class="line">    delimiter: string;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Constructs a `CSVFeatureSource` instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>filePath The CSV file path.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;CSVFieldOptions&#125;</span> </span>fieldOptions The CSV field options. e.g. &#123; geoField: &#123;x:'longitude', y:'latitude'&#125;, hasFieldsRow: true &#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>delimiter The delimiter.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>name The feature source name.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>(filePath?: string | undefined, fieldOptions?: CSVFieldOptions, delimiter?: string, name?: string);</span><br><span class="line">    /**</span><br><span class="line">     * @override</span><br><span class="line">     */</span><br><span class="line">    <span class="keyword">get</span> editable(): boolean;</span><br><span class="line">    static parseJSON(json: any): CSVFeatureSource;</span><br><span class="line">    static create(filePath: string, delimiter: string, fieldOptions: CSVFieldOptions, features: Array&lt;Feature&gt;, encoding?: string): void;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="FieldFilters-Type"><a href="#FieldFilters-Type" class="headerlink" title="FieldFilters Type"></a>FieldFilters Type</h2><p>This is a new type that could be replaced with ‘all’, ‘none’ or a string array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare type FieldFilters = <span class="string">'all'</span> | <span class="string">'none'</span> | string[];</span><br></pre></td></tr></table></figure>

<h2 id="DynamicField-Interface"><a href="#DynamicField-Interface" class="headerlink" title="DynamicField Interface"></a>DynamicField Interface</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> interface DynamicField &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    fieldsDependOn: string[];</span><br><span class="line">    mapper: <span class="function">(<span class="params">f: IFeature</span>) =&gt;</span> any;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="SpatialQueryRelationship-Type"><a href="#SpatialQueryRelationship-Type" class="headerlink" title="SpatialQueryRelationship Type"></a>SpatialQueryRelationship Type</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare type SpatialQueryRelationship = <span class="string">'intersection'</span> | <span class="string">'within'</span> | <span class="string">'disjoint'</span> | <span class="string">'overlap'</span> | <span class="string">'touch'</span>;</span><br></pre></td></tr></table></figure>

<h2 id="FeatureSource-Class"><a href="#FeatureSource-Class" class="headerlink" title="FeatureSource Class"></a>FeatureSource Class</h2><p>Extends <code>Opener</code>. This class represents a base class of all feature source. It provides the portal for developers to CRUD features from the the database. A feature source stands for a feature based database. For instance, ShapeFile is a popular feature based database. @see {@link ShapefileFeatureSource} for reading Shapefile data format.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare abstract <span class="class"><span class="keyword">class</span> <span class="title">FeatureSource</span> <span class="keyword">extends</span> <span class="title">Opener</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The name of feature source.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    name: string;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The projection of feature source.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    projection: Projection;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The feature geometry type.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    type: JSONKnownTypes;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Enable or disable the spatial index if it is being set.</span></span><br><span class="line"><span class="comment">     * It works when this property is set to `true` and the index property is set properly.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * The default value is true.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    indexEnabled: boolean;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The spatial index instance that is used to speed up the query performance.</span></span><br><span class="line"><span class="comment">     * It is optional property.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    index?: BaseIndex;</span><br><span class="line">    decorateFeature?: <span class="function">(<span class="params">f: Feature</span>) =&gt;</span> Feature;</span><br><span class="line">    dynamicFields: <span class="built_in">Array</span>&lt;DynamicField&gt;;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * This is the constructor of feature source.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * It sets the default name as `Unknown`</span></span><br><span class="line"><span class="comment">     * and initialize an undefined from and to projection instance.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>();</span><br><span class="line">    /**</span><br><span class="line">     * Gets features by condition; if the condition is not <span class="keyword">set</span>, all features will be fetched.</span><br><span class="line">     * @param &#123;IEnvelope&#125; envelope The condition to filter out the features within the specified envelope. Optional <span class="keyword">with</span> <span class="keyword">default</span> value <span class="literal">undefined</span>.</span><br><span class="line">     * @param &#123;FieldFilters&#125; fields The fields will come <span class="keyword">with</span> the returned feature array. Optional <span class="keyword">with</span> <span class="keyword">default</span> value <span class="literal">undefined</span>.</span><br><span class="line">     * @returns &#123;<span class="built_in">Promise</span>&lt;Feature[]&gt;&#125; The feature array that matches the specified condition.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    features(envelope?: IEnvelope, fields?: FieldFilters): Promise&lt;Feature[]&gt;;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Query features spatially <span class="keyword">with</span> a specific relationship.</span><br><span class="line">     * @param &#123;SpatialQueryRelationship&#125; queryRelationship The relationship to query. NOTE: <span class="string">'disjoint'</span> requires to fetch all features <span class="keyword">in</span> a data source. If the source has too many features, <span class="keyword">this</span> operation will be pretty slow. Consider to <span class="keyword">set</span> viewportEnvelope to reduce the querying area.</span><br><span class="line">     * @param &#123;Geometry&#125; geom The geometry to compare relationship among the features <span class="keyword">in</span> <span class="keyword">this</span> feature source.</span><br><span class="line">     * @param &#123;string | Srs | <span class="literal">undefined</span>&#125; geomSrs The geometry SRS. Default is <span class="literal">undefined</span> which means using the geometry directly.</span><br><span class="line">     * @param &#123;FieldFilters | <span class="literal">undefined</span>&#125; fields The fields included <span class="keyword">in</span> the returning features.</span><br><span class="line">     * @param &#123;IEnvelope | <span class="literal">undefined</span>&#125; viewportEnvelope The restriction area <span class="keyword">of</span> querying features.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    query(queryRelationship: SpatialQueryRelationship, geom: Geometry, geomSrs?: string | Srs, fields?: FieldFilters, viewportEnvelope?: IEnvelope): Promise&lt;Array&lt;Feature&gt;&gt;;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Gets a feature instance by its id. If it doesn<span class="string">'t exist, returns undefined.</span></span><br><span class="line"><span class="string">     * @param &#123;number&#125; id The id of the feature to find.</span></span><br><span class="line"><span class="string">     * @param &#123;FieldFilters&#125; fields The field filters that indicate the fields will be fetched with the returned feature instance.</span></span><br><span class="line"><span class="string">     * @returns &#123;Promise&lt;Feature|undefined&gt;&#125; The feature that id equals to the specified id.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    feature(id: number, fields?: FieldFilters): Promise&lt;Feature | undefined&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Gets the features count.</span></span><br><span class="line"><span class="string">     * @returns The feature count.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    count(): Promise&lt;number&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Gets all fields info in this feature source.</span></span><br><span class="line"><span class="string">     * @returns &#123;Promise&lt;Field[]&gt;&#125; An array of fields info in this feature source.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    fields(): Promise&lt;Field[]&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * This is an aggregator utility based on the properties.</span></span><br><span class="line"><span class="string">     * It provides to find min, max, average, distinct etc. values based on the feature source properties.</span></span><br><span class="line"><span class="string">     *</span></span><br><span class="line"><span class="string">     * Use case:</span></span><br><span class="line"><span class="string">     *</span></span><br><span class="line"><span class="string">     * @param &#123;FieldFilters&#125; fields The fields that will be included for aggregation.</span></span><br><span class="line"><span class="string">     * @returns &#123;PropertyAggregator&#125; A PropertyAggregator instance.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    propertyAggregator(fields?: FieldFilters): Promise&lt;PropertyAggregator&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * This methods fetches properties from all features in this feature source.</span></span><br><span class="line"><span class="string">     * @param fields The fields filter.</span></span><br><span class="line"><span class="string">     * @returns &#123;Promise&lt;Array&lt;Map&lt;string, any&gt;&gt;&gt;&#125; An array of properties from all features in this feature source.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    properties(fields?: FieldFilters): Promise&lt;Array&lt;Map&lt;string, any&gt;&gt;&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Gets the envelope (bounding box) of this feature source.</span></span><br><span class="line"><span class="string">     * @returns &#123;Promise&lt;Envelope&gt;&#125; The envelope (bounding box) of this feature source.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    envelope(): Promise&lt;Envelope&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * A shortcut of getting source SRS (spatial reference system) from the projection property.</span></span><br><span class="line"><span class="string">     * @returns &#123;string|undefined&#125; Either the concrete SRS or undefined if it is not set nor detected.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    get srs(): string | undefined;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * A shortcut of setting source SRS (spatial reference system) from the projection property.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    set srs(srs: string | undefined);</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Gets whether this feature source is editable (creating, updating and deleting).</span></span><br><span class="line"><span class="string">     * @returns &#123;boolean&#125; Whether this feature source is editable.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    get editable(): boolean;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Pushes a feature into this feature source.</span></span><br><span class="line"><span class="string">     * @param &#123;IFeature&#125; feature The feature to push into this feature source.</span></span><br><span class="line"><span class="string">     * If this feature source'</span>s source and target SRS are defined, <span class="keyword">this</span> feature must be the same SRS <span class="keyword">as</span> the target SRS <span class="keyword">of</span> <span class="keyword">this</span> feature source.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    push(feature: IFeature): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Updates an existing feature <span class="keyword">in</span> <span class="keyword">this</span> feature source.</span><br><span class="line">     * @param &#123;IFeature&#125; feature The feature to update <span class="keyword">in</span> <span class="keyword">this</span> feature source.</span><br><span class="line">     * If <span class="keyword">this</span> feature source<span class="string">'s source and target SRS are defined, this feature must be the same SRS as the target SRS of this feature source.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    update(feature: IFeature): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Update properties only for a feature for performance consideration. If it is not implemented, please call `update` method instead.</span></span><br><span class="line"><span class="string">     * @param &#123;IFeature&#125; feature The feature to update in this feature source.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    updateProperties(feature: IFeature): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Removes a feature by a specified feature id.</span></span><br><span class="line"><span class="string">     * @param &#123;number&#125; id The feature id to remove.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    remove(id: number): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Pushes a new field into this feature source.</span></span><br><span class="line"><span class="string">     * @param &#123;Field&#125; field A new field to push into this feature source.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    pushField(field: Field): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Updates an existing field info by field name.</span></span><br><span class="line"><span class="string">     * @param &#123;string&#125; sourceFieldName The source field name to update.</span></span><br><span class="line"><span class="string">     * @param &#123;Field&#125; newField A new field to replace to the old field.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    updateField(sourceFieldName: string, newField: Field): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Removes a field by field name.</span></span><br><span class="line"><span class="string">     * @param &#123;string&#125; fieldName A field name to remove.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    removeField(fieldName: string): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Flush the field changes into this feature source storage.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    flushFields(): Promise&lt;void&gt;;</span></span><br><span class="line"><span class="string">    /**</span></span><br><span class="line"><span class="string">     * Converts this feature source into JSON data.</span></span><br><span class="line"><span class="string">     */</span></span><br><span class="line"><span class="string">    toJSON(): any;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="GeoJSONFeatureSource-Class"><a href="#GeoJSONFeatureSource-Class" class="headerlink" title="GeoJSONFeatureSource Class"></a>GeoJSONFeatureSource Class</h2><p>Extends <code>MemoryFeatureSource</code>. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare <span class="class"><span class="keyword">class</span> <span class="title">GeoJSONFeatureSource</span> <span class="keyword">extends</span> <span class="title">MemoryFeatureSource</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(geoJSON?: string | any, name?: string);</span><br><span class="line">    <span class="keyword">get</span> geoJSON(): any | string | undefined;</span><br><span class="line">    <span class="keyword">set</span> geoJSON(geoJSON: any | string | undefined);</span><br><span class="line">    /**</span><br><span class="line">     * @override</span><br><span class="line">     */</span><br><span class="line">    <span class="keyword">get</span> editable(): boolean;</span><br><span class="line">    static parseJSON(json: any): GeoJSONFeatureSource;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="MemoryFeatureSource-Class"><a href="#MemoryFeatureSource-Class" class="headerlink" title="MemoryFeatureSource Class"></a>MemoryFeatureSource Class</h2><p>Extends <code>FeatureSource</code>. This class represents a feature source that maintains features in memory. This feature source is used to store temporary features. For instance, highlight, editing or adding feature buffer are all alow to store in this memory. Remind to clear it to release the memory usage. Watch out the memory usage (if too many features are about to push into this source), please consider other feature source with persistent storage.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare <span class="class"><span class="keyword">class</span> <span class="title">MemoryFeatureSource</span> <span class="keyword">extends</span> <span class="title">FeatureSource</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Constructs an MemoryFeatureSource instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;IFeature[]&#125;</span> </span>features The features to be pushed into this feature source. It is optional.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">fields</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">name</span></span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>(features?: IFeature[], fields?: Field[], name?: string);</span><br><span class="line">    <span class="keyword">get</span> internalFeatures(): Feature[];</span><br><span class="line">    /**</span><br><span class="line">     * Parses the specified JSON format data as `MemoryFeatureSource`.</span><br><span class="line">     * Note: If the data doesn't match the schema, it throws exception.</span><br><span class="line">     * @param &#123;any&#125; json The <span class="built_in">JSON</span> format data that matches the <span class="string">`MemoryFeatureSource`</span> schema.</span><br><span class="line">     * @returns &#123;MemoryFeatureSource&#125; A memory feature source instance.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    static parseJSON(json: any): MemoryFeatureSource;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Gets whether <span class="keyword">this</span> feature source is editable (creating, updating and deleting).</span><br><span class="line">     * @returns &#123;boolean&#125; This is feature source is always editable.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    get editable(): boolean;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Indicates whether <span class="keyword">this</span> feature source is necessary to manually open before doing CRUD operation.</span><br><span class="line">     * @returns False means <span class="keyword">this</span> feature source is allow to CRUD operation.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    get _openRequired(): boolean;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="ShapefileFeatureSource-Class"><a href="#ShapefileFeatureSource-Class" class="headerlink" title="ShapefileFeatureSource Class"></a>ShapefileFeatureSource Class</h2><p>Extends <code>FeatureSource</code>. This class represents a feature source that CRUD records from shapefile.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> declare <span class="class"><span class="keyword">class</span> <span class="title">ShapefileFeatureSource</span> <span class="keyword">extends</span> <span class="title">FeatureSource</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The file system flags to open the shapefile.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see <span class="type">&#123;@link https://nodejs.org/api/fs.html#fs_file_system_flags&#125;</span> </span>for options.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    flag: string;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Constructs a shapefile feature source instance.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>filePath The shape file path name.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>flag The file system flags to open the shapefile.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>name The name of this feature source.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">constructor</span>(filePath?: string, flag?: string, name?: string);</span><br><span class="line">    /**</span><br><span class="line">     * filePath Gets the path file name of the shapefile.</span><br><span class="line">     */</span><br><span class="line">    <span class="keyword">get</span> filePath(): string;</span><br><span class="line">    /**</span><br><span class="line">     * Sets the path file name of the shapefile.</span><br><span class="line">     */</span><br><span class="line">    <span class="keyword">set</span> filePath(filePath: string);</span><br><span class="line">    /**</span><br><span class="line">     * Gets the shapefile type.</span><br><span class="line">     */</span><br><span class="line">    <span class="keyword">get</span> shapeType(): ShapefileType;</span><br><span class="line">    /**</span><br><span class="line">     * Parses the JSON data into a shapefile source instance.</span><br><span class="line">     * @param &#123;any&#125; json The <span class="built_in">JSON</span> data to convert.</span><br><span class="line">     * @returns &#123;ShapefileFeatureSource&#125; The shapefile source instance that is converted <span class="keyword">from</span> the <span class="built_in">JSON</span> data.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    static parseJSON(json: any): ShapefileFeatureSource;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Gets whether <span class="keyword">this</span> feature source is editable (creating, updating and deleting).</span><br><span class="line">     * @returns &#123;boolean&#125; This is feature source is always editable.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    get editable(): boolean;</span></span><br><span class="line"><span class="regexp">    /</span>**</span><br><span class="line">     * Builds index <span class="keyword">for</span> <span class="keyword">this</span> shapefile source.</span><br><span class="line">     * @param &#123;boolean&#125; overwrite True means overwrite <span class="keyword">if</span> the target index file exists;</span><br><span class="line">     * otherwise, skip building index <span class="keyword">if</span> exists. Default value is <span class="literal">false</span>.</span><br><span class="line">     *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    buildIndex(overwrite?: boolean): void;</span></span><br><span class="line"><span class="regexp">    static createEmpty(filePath: string, fileType: ShapefileType, fields: Field[]): ShapefileFeatureSource;</span></span><br><span class="line"><span class="regexp">    copySchemaAs(targetFilePath: string): Promise&lt;ShapefileFeatureSource&gt;;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

</div>


  <div class="book-comments">
    




  </div>



<script src="/guide/js/book-post.js"></script>

        </div>
      </div>
      <div class="column col-2 hide-lg">
        <div class="book-post-info">
  
    <div class="book-post-meta">

  <div class="author">

    <!-- Author image -->
    <div class="author-img">
      
        <figure
          class="avatar avatar-lg"
          data-initial="G"
          style="background-color: #42b983;">
        </figure>
      
    </div>

    <!-- Author title -->
    <div class="author-title">
      <div>Ginkgoch</div>
      <div>2019-03-14</div>
    </div>
  </div>

  

  <div class="divider"></div>
</div>
  

  <div class="book-tocbot">
</div>
<div class="book-tocbot-menu">
  <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
  <a onclick="go_top()">Back to top</a>
  <a onclick="go_bottom()">Go to bottom</a>
</div>


<script src="/guide/js/book-toc.js"></script>

</div>
      </div>
    </div>
  </div>
  
  <a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>

</body>
</html>


<script src="/guide/js/book.js"></script>
